<div class="relative flex flex-col w-full h-full">
    <div class="text-xl leading-6 font-medium mb-4 text-center">
        {{ mode }} Symptoms User
    </div>
    <div class="absolute top-0 right-0">
        <mat-icon matDialogClose class="text-secondary cursor-pointer" [svgIcon]="'heroicons_outline:x'"></mat-icon>
    </div>

    <form [formGroup]="form" class="grid grid-cols-2 gap-6">
        <mat-form-field class="fuse-mat-no-subscript fuse-mat-textarea w-full">
            <mat-label>Name</mat-label>
            <input matInput [formControlName]="'name'" />
            <mat-error *ngIf="form.get('name').hasError('required')">
                Name is required
            </mat-error>
        </mat-form-field>

        <mat-form-field class="fuse-mat-no-subscript fuse-mat-textarea w-full">
            <mat-label>Type</mat-label>
            <input matInput [formControlName]="'type'" />
            <mat-error *ngIf="form.get('type').hasError('required')">
                Type is required
            </mat-error>
        </mat-form-field>

        <mat-form-field class="fuse-mat-no-subscript fuse-mat-textarea w-full">
            <mat-label>Description</mat-label>
            <input matInput [formControlName]="'description'" />
            <mat-error *ngIf="form.get('description').hasError('required')">
                Description is required
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Cause</mat-label>
            <mat-select [formControlName]="'causeId'" multiple>
                <mat-option *ngFor="let cause of causeList" [value]="cause.id">{{cause.name}}</mat-option>
            </mat-select>
            <!-- <mat-error *ngIf="form.get('drugIds').hasError('required')">
                Drugs is required
            </mat-error> -->
        </mat-form-field>

        <mat-form-field class="fuse-mat-no-subscript fuse-mat-textarea w-full">
            <mat-label>Basic Experiment</mat-label>
            <input matInput type="number" [formControlName]="'basicExperiment'" />
            <mat-error *ngIf="form.get('basicExperiment').hasError('required')">
                Basic Experiment is required
            </mat-error>
        </mat-form-field>

        <mat-form-field class="fuse-mat-no-subscript fuse-mat-textarea w-full">
            <mat-label>Basic Experiment</mat-label>
            <input matInput type="number" [formControlName]="'basicExperiment'" />
            <mat-error *ngIf="form.get('basicExperiment').hasError('required')">
                Basic Experiment is required
            </mat-error>
        </mat-form-field>

        <mat-form-field class="fuse-mat-no-subscript fuse-mat-textarea w-full">
            <mat-label>Treatment</mat-label>
            <input matInput type="number" [formControlName]="'treatment'" />
            <mat-error *ngIf="form.get('treatment').hasError('required')">
                Treatment is required
            </mat-error>
        </mat-form-field>

        <mat-form-field class="fuse-mat-no-subscript fuse-mat-textarea w-full">
            <mat-label>Diet</mat-label>
            <input matInput type="number" [formControlName]="'diet'" />
            <mat-error *ngIf="form.get('diet').hasError('required')">
                Diet is required
            </mat-error>
        </mat-form-field>

        <mat-form-field class="fuse-mat-no-subscript fuse-mat-textarea w-full">
            <mat-label>Living Activity</mat-label>
            <input matInput type="number" [formControlName]="'livingActivity'" />
            <mat-error *ngIf="form.get('livingActivity').hasError('required')">
                Living Activity is required
            </mat-error>
        </mat-form-field>
        
        <!-- <mat-form-field appearance="fill">
            <mat-label>Convert Type</mat-label>
            <mat-select [formControlName]="'convertType'">
                <mat-option *ngFor="let convertType of convertTypes" [value]="convertType.value">
                    {{ convertType.viewValue }}
                </mat-option>
            </mat-select>
        </mat-form-field> -->

        <input type="file" (change)="fileChangeEvent($event)" />

        <!-- <image-cropper
            [imageChangedEvent]="imageChangedEvent"
            [maintainAspectRatio]="true"
            [aspectRatio]="4 / 3"
            format="png"
            (imageCropped)="imageCropped($event)"
            (imageLoaded)="imageLoaded($event)"
            (cropperReady)="cropperReady()"
            (loadImageFailed)="loadImageFailed()"
        ></image-cropper> -->
    </form>

    <div class="flex justify-center sm:justify-end py-4 space-x-3 dark:bg-black dark:bg-opacity-10">
        <button mat-stroked-button matDialogClose="true">Cancel</button>
        <button mat-flat-button color="primary" (click)="handleCreateUpdate()">
            {{ mode }}
        </button>
    </div>
</div>